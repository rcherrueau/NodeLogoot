<html>
  <head>
  </head>
  <body>
    <h3 style="color:red">See JavaScript console for log</h3>
    <script>
      // var BASE = 100;
    </script>
    <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js">
    </script>
    <script src="libs/aop.min.js"></script>
    <script src="libs/aop-compat.1.0.min.js"></script>
    <script src="utils.js"></script>
    <script src="entities.js"></script>
    <script src="logoot.js"></script>
    <script>
      Logoot.BOUNDARY = 10;

      var N;
      var bound = (Logoot.BOUNDARY) ? Logoot.BOUNDARY.toString() : 'undefined';

      p = LineId.getDocumentStarter();
      q = LineId.getDocumentFinisher();

      N = 10;
      console.log('__________________________________________________________');
      console.log('BASE:' + BASE);
      console.log('DIGIT:' + DIGIT);
      console.log('p:' + p.toString());
      console.log('q:' + q.toString());
      console.log('N:' + N.toString());
      console.log('Boundary:' + bound);
      console.log('generateLineId(p, q, N, Boundary, 3, 10)');
      console.log('__________________________________________________________');
      r = Logoot.generateLineId(p, q, N, Logoot.BOUNDARY, 3, 10);
      console.log('RESULT: ' + r.toString());

      N = 99;
      console.log('__________________________________________________________');
      console.log('BASE:' + BASE);
      console.log('DIGIT:' + DIGIT);
      console.log('p:' + p.toString());
      console.log('q:' + q.toString());
      console.log('N:' + N.toString());
      console.log('Boundary:' + bound);
      console.log('generateLineId(p, q, N, Boundary, 3, 10)');
      console.log('__________________________________________________________');
      r = Logoot.generateLineId(p, q, N, Logoot.BOUNDARY, 3, 10);
      console.log('RESULT: ' + r.toString());

      patch = [];
      patch.push(new OperationInsert(p));
      patch.push(new OperationInsert(q));
      for (var i in r) {
        patch.push(new OperationInsert(r[i], 'toto'));
      }
      patch.push(new OperationDelete(q));
      console.log('__________________________________________________________');
      console.log('Patch to deliver:');
      console.log(patch.toString());
      logoot = new Logoot(undefined, function(){}, function(){});
      logoot.receive(patch);
      console.log('Deliver complete:');
      console.log(logoot.toString());
      console.log('__________________________________________________________');
    </script>
  </body>
</html>

